<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Travel</title>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

        <!-- 구글폰트 -->
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Jua&family=Nanum+Gothic+Coding:wght@700&family=Noto+Sans+KR:wght@300&display=swap"
              rel="stylesheet">
        <style>
            * {
                font-family: 'Noto Sans KR', sans-serif;
            }

            .wrap {
                width: 700px;
                margin: 10px auto;

            }

            #button {
                width: 100px;
                height: 53px;
                margin: 50px auto;
            }


        </style>
        <script>


            function formCheck() {
                let name = $('#name').val();
                let emoji = $('#emoji').val();
                let spot1 = $('#spot1').val();
                let spot2 = $('#spot2').val();
                let spot3 = $('#spot3').val();


                if (name == '') {
                    alert('이름을 적어주세요✏')
                    return
                } else if (emoji == 'none') {
                    alert('이모지를 골라주세요🎈')
                    return
                } else if (spot1 == '') {
                    alert('여행지를 적어주세요🚎')
                    return
                } else if (spot2 == '') {
                    alert('여행지를 적어주세요🚎')
                    return
                } else if (spot3 == '') {
                    alert('여행지를 적어주세요🚎')
                    return
                } else {
                    alert('성공적으로 등록되었습니다!👏')

                }
                $.ajax({
                    type: "POST",
                    url: "/new_theme",
                    data: {name: name, emoji: emoji, spot1: spot1, spot2: spot2, spot3: spot3},
                    success: function (response) { // 성공하면
                        if (response["result"] == "success") {
                            window.location.reload();
                        }
                    }
                })
            }

        </script>
    </head>


    <body>
        <section class="hero is-warning is-small">
            <div class="hero-body" style="margin-top:140px">
                <div class="container has-text-centered" style="margin-bottom: 100px;">
                    <h1 class="title is-size-1">
                        나의 여행 테마 만들기
                    </h1>
                </div>
            </div>
            <div class="wrap">
                <div class="field is-horizontal">
                    <div class="field-label is-normal">
                        <label class="label">테마 이름</label>
                    </div>
                    <div class="field-body">
                        <div class="field">
                            <div class="control">
                                <input id="name" class="input" type="text" placeholder="">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="field is-horizontal">
                    <div class="field-label is-normal">
                        <label class="label">이모지</label>
                    </div>
                    <div class="field-body">
                        <div class="field is-narrow">
                            <div class="control">
                                <div class="select is-fullwidth">
                                    <select id="emoji">
                                        <option value="none">선택</option>
                                        <option value="😀">😀</option>
                                        <option value="😁">😁</option>
                                        <option value="😂">😂</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="field is-horizontal">
                    <div class="field-label is-normal">
                        <label class="label">여행지 1</label>
                    </div>
                    <div class="field-body">
                        <div class="field">
                            <div class="control">
                                <input id="spot1" class="input" type="text" placeholder="">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="field is-horizontal">
                    <div class="field-label is-normal">
                        <label class="label">여행지 2</label>
                    </div>
                    <div class="field-body">
                        <div class="field">
                            <div class="control">
                                <input id="spot2" class="input" type="text" placeholder="">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="field is-horizontal">
                    <div class="field-label is-normal">
                        <label class="label">여행지 3</label>
                    </div>
                    <div class="field-body">
                        <div class="field">
                            <div class="control">
                                <input id="spot3" class="input" type="text" placeholder="">
                            </div>
                        </div>
                    </div>
                </div>
                <div id="button" class="field is-grouped">
                    <p class="control">
                        <button onclick="formCheck()" class="button is-info">
                            등록하기
                        </button>
                    </p>
                    <p class="control">
                        <button onclick="location.href = '/'" class="button">
                            취소
                        </button>
                    </p>

                </div>
            </div>
        </section>
    </body>
</html>